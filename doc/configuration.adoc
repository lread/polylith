= Configuration
:toc:

We have two categories of configuration:

1. Configuration used by the poly tool
2. Configuration used by tools.deps

The first type are stored in _workspace.edn_ and _~/.config/polylith/config.edn_, while the second one are stored in _deps.edn_ files together with bricks and projects.

The content of all these configuration files are also accessible via the workspace structure, in the _:configs_ key:

[source,shell]
----
poly ws get:configs:keys
----

[source,shell]
----
[:bases :components :projects :user :workspace]
----

Let's cover the different types of configuration.

== Workspace

The configuration file lives in __./workspace.edn_ and can also be accessed with:

[source,shell]
----
poly ws get:configs:workspace
----

[source,clojure]
----
{:compact-views #{}
 :default-profile-name "default"
 :interface-ns "interface"
 :projects {"command-line" {:alias "cl"}
            "development" {:alias "dev"}
            "user-service" {:alias "user-s"}}
 :tag-patterns {:release "v[0-9]*"
                :stable "stable-*"}
 :top-namespace "se.example",
 :vcs {:auto-add true
       :name "git"}}
----

=== Table 1

|===
| Key | Description

| _:compact-view_ | Specifies which views to display in a more compact way. Only "info" and "libs" are supported, which affects the output from the xref:commands#info[info] and xref:commands.adoc#libs[libs] command, so that they are displayed in a more compact way, e.g.: _#{"info" "libs"}_.
| _:default-profile-name_ | The name of the profile that will be merged into the development project if xref:profile.adoc[profiles] are used and no profile is given. Specified in https://github.com/polyfy/polylith/blob/a4d9d2f3e50a2b76f36ed75c4a7ba7aa9a7b0db6/examples/doc-example/deps.edn#L14-L15[./deps.edn].
| :interface-ns | The name of the namespace that will be treated as the component's interface, together with _interface_ and _ifc_. The value configured here are used in the xref:create-component[create component] command. The default value is _interface_ but can be changed to any valid namespace name. Recommended values are _interface_ and _ifc_.
| _projects_ | Contains a map with all the projects in the workspace, where each project has these keys:
|===

=== Table 2

|===
| Key | Description

| _:compact-view_
| Specifies which views to display in a more compact way. Only "info" and "libs" are supported, which affects the output from the xref:commands#info[info] and xref:commands.adoc#libs[libs] command, so that they are displayed in a more compact way, e.g.: _#{"info" "libs"}_.

| _:default-profile-name_
| The name of the profile that will be merged into the development project if xref:profile.adoc[profiles] are used and no profile is given. Specified in https://github.com/polyfy/polylith/blob/a4d9d2f3e50a2b76f36ed75c4a7ba7aa9a7b0db6/examples/doc-example/deps.edn#L14-L15[./deps.edn].

| _projects_
| Contains a map with all the projects in the workspace, where each project has these keys:

[cols="2,1"]
!===
! Key ! Description

! _:alias_
! The value is used by the xref:commands#info[info] and by various commands as a valid synonym for the full project name.

!===

|===




If you use xref:install.adoc#polylith-as-a-library[Polylith as a library] then you shouldn't rely on any value listed above. Instead you should use xref:workspace-structure.adoc#_settings[:settings].







The workspace configuration is stored in ./workspace.edn and defines the following keys:

|===
| Key | Description

| :vcs | A map with two keys, where _:name_ is set to "git" which is the only supported https://en.wikipedia.org/wiki/Version_control[version control] system at the moment. The key _:auto-add_ is a boolean flag that tells whether directories and files added by the _create_ command should automatically be added to git or not.
| :top-namespace | The workspace top namespace. If changed, the source code has to be changed accordingly.
| :interface-ns | The default value is _interface_. If changed, the source code has to be changed accordingly.
| :default-profile-name | The default value is _default_. If changed (don't include the "+") the _+default_ alias in _./deps.edn_ has to be renamed accordingly.
| :tag-patterns | The default value for the _:release_ key is "v[0-9]*", and for _:stable_ it's "stable-*". If changed, old tags may not be recognised.
| :project | If the development key is missing, _{"development" {:alias "dev"}_ will be used under the hood.
|===

Only the _:top-namespace_ attribute is mandatory, all other attributes will use their default values if missing. A complete list of keys can be found in the workspace structure for the _:settings_ key.

The content of _workspace.edn_ can be viewed by executing:

[source,shell]
----
poly ws get:configs:workspace
----

Settings that are unique per developer/user are stored in _~/.config/polylith/config.edn_ (if you started using the poly tool from version _0.2.14 or_ earlier, then it may be stored in _~/.polylith/config.edn_):

|===
| Key | Description

| :thousandâ€‘separator | Set to "," by default (when first created).
| :color-mode | Set to "none" on Windows, and to "dark" on other operating systems (when first created). Valid values are "none", "light" and "dark", see the color section. Can be overridden, e.g.: `poly info color-mode:none`.
| :empty-character | Set to "." by default (when first created). Used by the deps and libs commands.
| :m2-dir | If omitted, the _.m2_ directory will be set to _USER-HOME/.m2_. Used by the libs command to calculate file sizes (KB).
|===

If _~/.config/polylith/config.edn_ doesn't exist, it will be created the first time the create workspace command is executed, e.g.:

[source,shell]
----
{:color-mode "dark"
 :thousand-separator ","
 :empty-character "."}
----

The content of the user config file can be viewed by:

[source,shell]
----
poly ws get:configs:user
----

The content of all config files (components, bases, projects, user, and workspace) can be viewed by executing:

[source,shell]
----
poly ws get:configs
----
